webpackJsonp([7],{"+qsa":function(t,e,r){"use strict";function a(t){r("og72")}Object.defineProperty(e,"__esModule",{value:!0});var s=r("vnLt"),i=r("vXHC"),n=r("OF7X"),o=a,l=n(s.a,i.a,!1,o,"data-v-2eb0d1d0",null);e.default=l.exports},"356m":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"table-list"},[r("div",{staticClass:"action"},[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.add}},[t._v("添加")]),t._v(" "),r("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){t.deleteRec()}}},[t._v("批量删除")])],1),t._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"default-sort":t.orderInfo,border:"","highlight-current-row":""},on:{"row-dblclick":t.edit,"selection-change":t.selectChange,"sort-change":t.sortChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),r("el-table-column",{attrs:{type:"index",label:"序号",width:"70"}}),t._v(" "),r("el-table-column",{attrs:{prop:"group_key",label:"分组标签",width:"100"}}),t._v(" "),r("el-table-column",{attrs:{prop:"key",label:"分组内标签","min-width":"120"}}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"图片名称","min-width":"120"}}),t._v(" "),r("el-table-column",{attrs:{prop:"sort",sortable:"",label:"权重",width:"100"}}),t._v(" "),r("el-table-column",{attrs:{prop:"des",label:"描述","min-width":"150"}}),t._v(" "),r("el-table-column",{attrs:{prop:"img_url",label:"图片","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.img_url?r("img",{attrs:{src:e.row.img_url},on:{click:function(r){t.previewImg(e.row)}}}):t._e()]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"click_url",label:"跳转地址","show-overflow-tooltip":"","min-width":"120"}}),t._v(" "),r("el-table-column",{attrs:{prop:"status",label:"状态",formatter:t.fmtType,width:"100"}}),t._v(" "),r("el-table-column",{attrs:{prop:"update_time",sortable:"",label:"更新日期","min-width":"130"}}),t._v(" "),r("el-table-column",{attrs:{prop:"create_time",sortable:"",label:"创建日期","min-width":"130"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){t.edit(e.row)}}},[t._v("编辑")]),t._v(" "),r("el-button",{staticClass:"delete",attrs:{type:"text",size:"small"},on:{click:function(r){t.deleteRec([e.row.id])}}},[t._v("删除")])]}}])})],1),t._v(" "),r("el-pagination",{staticClass:"table-pager",attrs:{"current-page":t.pageInfo.pageNum,"page-sizes":[10,20,50,100],"page-size":t.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pageInfo.totalRec},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t._v(" "),r(t.editCompName,{tag:"component",attrs:{showDialog:t.showEdit,editRowId:t.editRowId},on:{"update:showDialog":function(e){t.showEdit=e}}}),t._v(" "),r("el-dialog",{attrs:{size:"tiny"},model:{value:t.imgPreviewVisible,callback:function(e){t.imgPreviewVisible=e},expression:"imgPreviewVisible"}},[r("img",{attrs:{width:"100%",src:t.imgPreviewUrl,alt:""}})])],1)},s=[],i={render:a,staticRenderFns:s};e.a=i},"5xnQ":function(t,e,r){"use strict";var a=r("aA9S"),s=r.n(a),i=r("g7ZD");e.a={name:"banner-search",data:function(){return{searchData:{groupKey:"",key:""},loading:!1}},mounted:function(){this.search()},methods:{search:function(){i.b.$emit(i.a.search,s()({},this.searchData))},reset:function(){this.$refs.formSearch.resetFields(),this.search()}}}},GTpk:function(t,e,r){"use strict";function a(t){r("S0g4")}var s=r("hKIC"),i=r("356m"),n=r("OF7X"),o=a,l=n(s.a,i.a,!1,o,"data-v-13bce73c",null);e.a=l.exports},"I/Wi":function(t,e,r){var a=r("pahq");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("8bSs")("7624ca31",a,!0)},S0g4:function(t,e,r){var a=r("qfKX");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("8bSs")("328ba334",a,!0)},SEoX:function(t,e,r){e=t.exports=r("BkJT")(!1),e.push([t.i,"",""])},exIl:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-form",{ref:"formSearch",staticClass:"form-search",attrs:{model:t.searchData,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"组标签",prop:"groupKey"}},[r("el-input",{attrs:{placeholder:"请输入组标签"},model:{value:t.searchData.groupKey,callback:function(e){t.$set(t.searchData,"groupKey",e)},expression:"searchData.groupKey"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"组内标签",prop:"key"}},[r("el-input",{attrs:{placeholder:"请输入组内标签"},model:{value:t.searchData.key,callback:function(e){t.$set(t.searchData,"key",e)},expression:"searchData.key"}})],1),t._v(" "),r("el-form-item",{staticClass:"search-action"},[r("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),t._v(" "),r("el-button",{on:{click:t.reset}},[t._v("重置")])],1)],1)},s=[],i={render:a,staticRenderFns:s};e.a=i},g7ZD:function(t,e,r){"use strict";r.d(e,"a",function(){return s}),r.d(e,"h",function(){return i}),r.d(e,"g",function(){return n}),r.d(e,"d",function(){return o}),r.d(e,"e",function(){return l}),r.d(e,"c",function(){return c}),r.d(e,"f",function(){return d}),r.d(e,"i",function(){return h});var a=r("qM1Q"),s={search:"banner-search",showAddOrEdit:"banner-showAddOrEdit",refreshListForAdd:"banner-refreshListForAdd",refreshListForEdit:"banner-refreshListForEdit"},i={search:"typeGroup-search",showAddOrEdit:"typeGroup-showAddOrEdit",refreshListForAdd:"typeGroup-refreshListForAdd",refreshListForEdit:"typeGroup-refreshListForEdit"},n={search:"type-search",showAddOrEdit:"type-showAddOrEdit",refreshListForAdd:"type-refreshListForAdd",refreshListForEdit:"type-refreshListForEdit"},o={search:"product-search",add:"product-add",edit:"product-edit"},l={search:"productStandard-search",add:"productStandard-add",edit:"productStandard-edit"},c={search:"order-search"},d={search:"role-search",showAddOrEdit:"role-showAddOrEdit",refreshListForAdd:"role-refreshListForAdd",refreshListForEdit:"role-refreshListForEdit"},h={search:"user-search",showAddOrEdit:"user-showAddOrEdit",refreshListForAdd:"user-refreshListForAdd",refreshListForEdit:"user-refreshListForEdit"};e.b=new a.default},hKIC:function(t,e,r){"use strict";var a=r("aA9S"),s=r.n(a),i=r("g7ZD"),n=r("IAGr");e.a={components:{tableForm:function(t){r.e(13).then(function(){var e=[r("Gjo8")];t.apply(null,e)}.bind(this)).catch(r.oe)}},created:function(){var t=this;i.b.$on(i.a.search,function(e){t.search(e)}),i.b.$on(i.a.refreshListForEdit,function(){t.getData()}),i.b.$on(i.a.refreshListForAdd,function(){t.resetPageInfo(),t.orderInfo.prop="create_time",t.orderInfo.order="descending",t.getData()})},data:function(){var t=localStorage.getItem(n.c.bannerPageSize);return{editCompName:"",showEdit:!1,editRowId:null,imgPreviewVisible:!1,imgPreviewUrl:"",pageInfo:{pageNum:1,totalRec:0,pageSize:null==t?10:parseInt(t)},searchData:{},orderInfo:{prop:"sort",order:"descending"},tableData:[],selectIds:[]}},methods:{fmtType:function(t,e){return 0===t.status?"下线":1===t.status?"上线":t.status},search:function(t){this.resetPageInfo(),this.searchData=t,this.getData()},resetPageInfo:function(){this.pageInfo.totalRec=0,this.pageInfo.pageNum=1},getData:function(){var t=this;this.$http.post("/manage/banner/getData",s()({},this.searchData,this.pageInfo,this.orderInfo)).then(function(e){t.pageInfo.totalRec=e.data.totalRow,t.tableData=e.data.list})},deleteRec:function(t){var e=this;if(t=t||this.selectIds,0===t.length)return void this.$alert("未选择记录","提示",{confirmButtonText:"确定",closeOnClickModal:!0,type:"warning"});this.$confirm("确认要删除数据（不可恢复）?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.post("/manage/banner/delete",{ids:t}).then(function(t){e.getData()})}).catch(function(){})},edit:function(t){this.editCompName="tableForm",this.editRowId=t.id,this.showEdit=!0},add:function(){this.editCompName="tableForm",this.editRowId=null,this.showEdit=!0},previewImg:function(t){this.imgPreviewVisible=!0,this.imgPreviewUrl=t.img_url},handleSizeChange:function(t){this.pageInfo.pageSize=t,localStorage.setItem(n.c.bannerPageSize,t),this.getData()},handleCurrentChange:function(t){this.pageInfo.pageNum=t,this.getData()},selectChange:function(t){this.selectIds.splice(0,this.selectIds.length);for(var e=0;e<t.length;e++)this.selectIds.push(t[e].id)},sortChange:function(t){var e=(t.column,t.prop),r=t.order;e===this.orderInfo.prop&&r===this.orderInfo.order||(this.orderInfo.prop=e,this.orderInfo.order=r,this.resetPageInfo(),this.getData())}}}},og72:function(t,e,r){var a=r("SEoX");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("8bSs")("6c82a21a",a,!0)},pahq:function(t,e,r){e=t.exports=r("BkJT")(!1),e.push([t.i,"",""])},qfKX:function(t,e,r){e=t.exports=r("BkJT")(!1),e.push([t.i,".el-table .cell img[data-v-13bce73c]{cursor:pointer;max-height:100px;max-width:150px}",""])},qzl1:function(t,e,r){"use strict";function a(t){r("I/Wi")}var s=r("5xnQ"),i=r("exIl"),n=r("OF7X"),o=a,l=n(s.a,i.a,!1,o,"data-v-a014c68c",null);e.a=l.exports},vXHC:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("table-search"),t._v(" "),r("table-list")],1)},s=[],i={render:a,staticRenderFns:s};e.a=i},vnLt:function(t,e,r){"use strict";var a=r("qzl1"),s=r("GTpk");e.a={name:"banner",components:{tableSearch:a.a,tableList:s.a}}}});