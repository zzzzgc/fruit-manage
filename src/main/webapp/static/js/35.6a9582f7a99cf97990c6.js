webpackJsonp([35],{"9ipN":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"配送",width:"60%",visible:t.showDialog,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$emit("update:showDialog",e)},close:t.reset,open:t.show}},[i("el-form",{ref:"form",attrs:{form:t.form,model:t.form,"label-position":"right"}},[i("el-row",t._l(t.form.products,function(e,s){return i("el-col",{key:s,staticStyle:{border:"1px solid #eeeeee",padding:"10px"},attrs:{gutter:10,span:6}},[i("el-form-item",{attrs:{"label-width":"60px",size:"mini",label:"商品"}},[t._v(t._s(e.product_name))]),t._v(" "),i("el-form-item",{attrs:{"label-width":"60px",size:"mini",label:"规格"}},[t._v("\n          "+t._s(e.product_standard_name)+"\n        ")]),t._v(" "),i("el-form-item",{attrs:{"label-width":"60px",size:"mini",label:"毛重"}},[t._v("\n          "+t._s(e.gross_weight)+"\n        ")]),t._v(" "),i("el-form-item",{attrs:{"label-width":"60px",size:"mini",label:"数量"}},[t._v("\n          "+t._s(e.num)+"\n        ")]),t._v(" "),i("el-form-item",{attrs:{"label-width":"60px",size:"mini",label:"库存量"}},[t._v("\n          "+t._s(e.stock)+"\n        ")]),t._v(" "),i("el-form-item",{attrs:{"label-width":"60px",size:"mini",label:"实发数"}},[i("el-input",{attrs:{size:"mini",placeholder:"请输入数量"},model:{value:e.actual_send_goods_num,callback:function(i){t.$set(e,"actual_send_goods_num",i)},expression:"product.actual_send_goods_num"}})],1),t._v(" "),i("el-form-item",{attrs:{"label-width":"60px",size:"mini",label:"报价"}},[t._v("\n          "+t._s(e.original_price)+"\n        ")]),t._v(" "),i("el-form-item",{attrs:{"label-width":"60px",size:"mini",label:"单价"}},[t._v("\n          "+t._s(e.sell_price)+"\n        ")])],1)}))],1),t._v(" "),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.submitAddAndEdit}},[t._v("确认")]),t._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:t.cancelAdd}},[t._v("取消")])],1)],1)},o=[],n={render:s,staticRenderFns:o};e.a=n},AKBL:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,"",""])},enSZ:function(t,e,i){"use strict";var s=i("mvHQ"),o=i.n(s),n=i("woOf"),r=i.n(n),a=i("g7ZD");e.a={components:{},name:"delivery",data:function(){return{form:{products:[]}}},props:["showDialog","editRowId","orderInfo"],mounted:function(){this.show()},methods:{reset:function(){},warningMsg:function(t){this.$message({message:t,type:"warning"})},submitBefore:function(){var t=!1;if(null!==this.form.products&&""!==this.form.products&&this.form.products.length>0){var e=0;for(var i in this.form.products)e=1+parseInt(i),/^\+?[1-9][0-9]*$/.test(this.form.products[i].actual_send_goods_num)||(this.warningMsg("第"+e+"个商品的数量输入有误！"),t=!0),parseInt(this.form.products[i].stock)<parseInt(this.form.products[i].actual_send_goods_num)&&(this.warningMsg("第"+e+"个商品的实发数量大于库存！"),t=!0)}return t},submitAddAndEdit:function(){var t=this;if(this.submitBefore())return!1;this.$http.post("/manage/order/save",r()({},this.form,{products:o()(this.form.products),orderId:this.editRowId})).then(function(e){t.$http.post("/manage/order/setStatus",{isNext:1,orderId:t.editRowId}).then(function(e){t.$emit("update:showDialog",!1),t.editRowId&&a.c.$emit(a.e.delivery,r()({},t.orderInfo))})})},show:function(){var t=this;if(this.reset(),this.editRowId)return this.isEdit=!0,void this.$http.post("/manage/order/getOtherDataInfo",{orderId:this.editRowId}).then(function(e){t.form=e.data});this.isEdit=!1},cancelAdd:function(){this.$emit("update:showDialog",!1)}}}},jJBQ:function(t,e,i){var s=i("AKBL");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("0b4437ad",s,!0)},"l+u+":function(t,e,i){"use strict";function s(t){i("jJBQ")}Object.defineProperty(e,"__esModule",{value:!0});var o=i("enSZ"),n=i("9ipN"),r=i("VU/8"),a=s,l=r(o.a,n.a,!1,a,"data-v-d49d3d5a",null);e.default=l.exports},mvHQ:function(t,e,i){t.exports={default:i("qkKv"),__esModule:!0}},qkKv:function(t,e,i){var s=i("FeBl"),o=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}}});