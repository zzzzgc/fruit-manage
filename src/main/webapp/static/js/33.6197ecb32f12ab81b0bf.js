webpackJsonp([33],{"3vt5":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"客户添加/编辑",visible:e.showDialog,"close-on-click-modal":!1},on:{"update:visible":function(t){return e.$emit("update:showDialog",t)},open:e.show,close:e.reset}},[r("el-form",{ref:"form",staticClass:"form-style",attrs:{model:e.procurementPlanDetail,"label-width":"100px","label-position":"right"}},[null!==this.editRowId?r("el-form-item",{attrs:{label:"店铺ID",prop:"id"}},[e._v(e._s(e.procurementPlanDetail.id))]):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"商品名称",prop:"product_name"}},[r("span",{model:{value:e.procurementPlanDetail.product_name,callback:function(t){e.$set(e.procurementPlanDetail,"product_name",t)},expression:"procurementPlanDetail.product_name"}},[e._v(e._s(e.procurementPlanDetail.product_name))])]),e._v(" "),r("el-form-item",{attrs:{label:"规格名称",prop:"product_standard_name"}},[r("span",{model:{value:e.procurementPlanDetail.product_standard_name,callback:function(t){e.$set(e.procurementPlanDetail,"product_standard_name",t)},expression:"procurementPlanDetail.product_standard_name"}},[e._v(e._s(e.procurementPlanDetail.product_standard_name))])]),e._v(" "),r("el-form-item",{attrs:{label:"规格编号",prop:"product_standard_id"}},[r("span",{model:{value:e.procurementPlanDetail.product_standard_id,callback:function(t){e.$set(e.procurementPlanDetail,"product_standard_id",t)},expression:"procurementPlanDetail.product_standard_id"}},[e._v(e._s(e.procurementPlanDetail.product_standard_id))])]),e._v(" "),r("el-form-item",{attrs:{label:"报价",prop:"sell_price"}},[r("span",{model:{value:e.procurementPlanDetail.sell_price,callback:function(t){e.$set(e.procurementPlanDetail,"sell_price",t)},expression:"procurementPlanDetail.sell_price"}},[e._v(e._s(e.procurementPlanDetail.sell_price))])]),e._v(" "),r("el-form-item",{attrs:{label:"下单数量",prop:"product_standard_num"}},[r("span",{model:{value:e.procurementPlanDetail.product_standard_num,callback:function(t){e.$set(e.procurementPlanDetail,"product_standard_num",t)},expression:"procurementPlanDetail.product_standard_num"}},[e._v(e._s(e.procurementPlanDetail.product_standard_num))])]),e._v(" "),r("el-form-item",{attrs:{label:"库存数量",prop:"inventory_num"}},[r("span",{model:{value:e.procurementPlanDetail.inventory_num,callback:function(t){e.$set(e.procurementPlanDetail,"inventory_num",t)},expression:"procurementPlanDetail.inventory_num"}},[e._v(e._s(e.procurementPlanDetail.inventory_num))])]),e._v(" "),r("el-form-item",{attrs:{label:"采购人",prop:"procurement_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.procurementPlanDetail.procurement_id,callback:function(t){e.$set(e.procurementPlanDetail,"procurement_id",t)},expression:"procurementPlanDetail.procurement_id"}},e._l(e.options,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"采购数量",prop:"procurement_num"}},[r("el-input",{attrs:{placeholder:"请输入采购数量"},model:{value:e.procurementPlanDetail.procurement_num,callback:function(t){e.$set(e.procurementPlanDetail,"procurement_num",t)},expression:"procurementPlanDetail.procurement_num"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"实采单价",prop:"procurement_need_price"}},[r("el-input",{attrs:{placeholder:"请输入实采单价"},model:{value:e.procurementPlanDetail.procurement_need_price,callback:function(t){e.$set(e.procurementPlanDetail,"procurement_need_price",t)},expression:"procurementPlanDetail.procurement_need_price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"实采总价",prop:"procurement_total_price"}},[r("span",{model:{value:e.procurementPlanDetail.procurement_total_price,callback:function(t){e.$set(e.procurementPlanDetail,"procurement_total_price",t)},expression:"procurementPlanDetail.procurement_total_price"}},[e._v(e._s(e.procurementPlanDetail.procurement_total_price))])]),e._v(" "),r("el-form-item",{attrs:{label:"采购备注",prop:"procurement_remark"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入采购备注"},model:{value:e.procurementPlanDetail.procurement_remark,callback:function(t){e.$set(e.procurementPlanDetail,"procurement_remark",t)},expression:"procurementPlanDetail.procurement_remark"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.$emit("update:showDialog",!1)}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1)},a=[],o={render:n,staticRenderFns:a};t.a=o},"6WBV":function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,".el-cascader,.el-select{width:100%}.input-new-tag.el-input{width:auto}span.el-tag{margin-right:10px}.el-upload--picture-card,.el-upload-list--picture-card .el-upload-list__item{width:150px;height:150px}.el-upload--picture-card{line-height:150px}",""])},"LR9+":function(e,t,r){var n=r("6WBV");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r("rjj0")("9e921e1a",n,!0)},XZCh:function(e,t,r){var n=r("h0A3");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r("rjj0")("3ef278a3",n,!0)},anrZ:function(e,t,r){"use strict";function n(e){r("XZCh"),r("LR9+")}Object.defineProperty(t,"__esModule",{value:!0});var a=r("ymZA"),o=r("3vt5"),l=r("VU/8"),i=n,p=l(a.a,o.a,!1,i,"data-v-b41495f0",null);t.default=p.exports},h0A3:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,".avatar-uploader-icon[data-v-b41495f0]{font-size:15px;border:1px solid #bfcbd9;padding:14px 17px;border-radius:5px}.avatar-img[data-v-b41495f0]{max-width:60px}",""])},ymZA:function(e,t,r){"use strict";var n=r("woOf"),a=r.n(n),o=r("g7ZD");t.a={components:{},name:"procurementDetailAddOrEdit",props:["showDialog","editRowId"],mounted:function(){this.show()},data:function(){return{addKeywords:"",resetForm:{},procurementPlanDetail:{},options:[]}},methods:{deleteKeywords:function(e){this.procurementDetail.keywords.splice(this.procurementDetail.keywords.indexOf(e),1)},handleKeywordsConfirm:function(){var e=this.addKeywords;e&&this.procurementDetail.keywords.push(e),this.isAddKeywordsShow=!1,this.addKeywords=""},showAddKeywords:function(){var e=this;this.isAddKeywordsShow=!0,this.$nextTick(function(t){e.$refs.addKeywordsInput.$refs.input.focus()})},handleRemoveImg:function(e,t){this._imgUploadChange(t)},reset:function(){this.$refs.form&&this.$refs.form.resetFields(),this.procurementDetail=a()({},this.resetForm)},show:function(){var e=this;this.reset(),this.getAllSaleUserInfo(),null!==this.editRowId&&this.$http.post("/manage/procurement/plan/detail/getPPlanDetailByID",{id:this.editRowId},{showLoading:!0}).then(function(t){"null"===t.data.procurement_remark&&(t.data.procurement_remark=""),e.procurementPlanDetail=t.data}).catch(function(){e.$emit("update:showDialog",!1)})},getAllSaleUserInfo:function(){var e=this;this.$http.post("/manage/procurement/plan/detail/getAllProcurementUser").then(function(t){e.options=t.data})},warningMsg:function(e){this.$message({message:e,type:"warning"})},submitBefore:function(){},onSubmit:function(){var e=this;this.$http.post("/manage/procurement/plan/detail/updatePPlanDetailTwo",this.procurementPlanDetail).then(function(t){console.log(t),t.data&&(e.showAddDialog=!1,e.$emit("update:showDialog",!1),o.c.$emit(o.g.showAddOrEdit))})}},watch:{procurementPlanDetail:{handler:function(e,t){var r=!1,n=!1,a=0;/^\+?[1-9][0-9]*$/.test(e.procurement_num)||(r=!0),/^[0-9]+(.[0-9]{1})?$/.test(e.procurement_need_price)||(n=!0),a+=(!0===r?0:e.procurement_num)*(!0===n?0:10*e.procurement_need_price)/10,this.procurementPlanDetail.procurement_total_price=a},deep:!0}}}}});