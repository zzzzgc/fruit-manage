webpackJsonp([32],{"+eOX":function(t,e,a){var r=a("q+hh");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("64088b24",r,!0)},"8Pjr":function(t,e,a){"use strict";var r=a("woOf"),o=a.n(r),i=a("g7ZD"),s=a("JaHG");e.a={name:"productStandardAddOrEdit",props:["showDialog","editRowId","productId"],mounted:function(){this.show()},data:function(){return{resetForm:{id:"",name:"",sub_title:"",original_price:0,sell_price:0,weight_price:0,cost_price:0,shipping_fee:0,carton_weight:0,fruit_weight:0,gross_weight:0,purchase_quantity_min:0,purchase_quantity_max:0,buyTimeRange:[],sort_purchase:100,sort_sold_out:100,sort_split:100,stock:9999,status:1,is_default:0},productStandard:{},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:2,max:40,message:"长度在 2 到40 个字符",trigger:"blur,change"}],sub_title:[{required:!0,message:"请输入副标题",trigger:"blur"},{min:2,max:150,message:"长度在 2 到40 个字符",trigger:"blur,change"}]}}},methods:{show:function(){var t=this;this.reset(),null!==this.editRowId&&this.$http.post("/productStandard/info",{id:this.editRowId},{showLoading:!0}).then(function(e){var a=[];null!==e.data.buy_start_time&&null!==e.data.buy_end_time&&(a.push(Object(s.d)(e.data.buy_start_time)),a.push(Object(s.d)(e.data.buy_end_time))),delete e.data.buy_start_time,delete e.data.buy_end_time,t.productStandard=o()(t.resetForm,Object(s.c)(e.data),{buyTimeRange:a})})},onSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return!1;var a={};t.productStandard.buyTimeRange.length>1&&(a.buy_start_time=Object(s.b)(t.productStandard.buyTimeRange[0]),a.buy_end_time=Object(s.b)(t.productStandard.buyTimeRange[1]));var r=o()({},t.productStandard,a);delete r.buyTimeRange,null===t.editRowId&&(r.product_id=t.productId),t.$http.post("/productStandard/save",r,{showLoading:!0}).then(function(e){t.$emit("update:showDialog",!1),i.c.$emit(i.j.edit,null),""!==t.productStandard.id?(t.$message({type:"success",message:"编辑数据成功"}),i.c.$emit(i.k.edit,r)):(t.$message({type:"success",message:"添加数据成功"}),i.c.$emit(i.k.add,r))})})},reset:function(){this.$refs.form&&this.$refs.form.resetFields(),this.productStandard=o()({},this.resetForm)}}}},J5tg:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"product-standard-form",attrs:{title:"商品规格添加/编辑",width:"60%",visible:t.showDialog,"append-to-body":!0,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$emit("update:showDialog",e)},open:t.show,close:t.reset}},[a("el-form",{ref:"form",staticClass:"form-style",attrs:{model:t.productStandard,rules:t.rules,"label-width":"100px","label-position":"right"}},[null!==this.editRowId?a("el-form-item",{staticClass:"line",attrs:{label:"规格ID",prop:"id"}},[t._v(t._s(t.productStandard.id))]):t._e(),t._v(" "),a("el-form-item",{staticClass:"line",attrs:{label:"规格名",prop:"name"}},[a("el-input",{model:{value:t.productStandard.name,callback:function(e){t.$set(t.productStandard,"name",e)},expression:"productStandard.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"line",attrs:{label:"副标题",prop:"sub_title"}},[a("el-input",{model:{value:t.productStandard.sub_title,callback:function(e){t.$set(t.productStandard,"sub_title",e)},expression:"productStandard.sub_title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"原售价",prop:"original_price"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:99999999,step:10},model:{value:t.productStandard.original_price,callback:function(e){t.$set(t.productStandard,"original_price",e)},expression:"productStandard.original_price"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"现售价",prop:"sell_price"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:99999999,step:10},model:{value:t.productStandard.sell_price,callback:function(e){t.$set(t.productStandard,"sell_price",e)},expression:"productStandard.sell_price"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"现售称重单价",prop:"weight_price"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:99999999,step:10},model:{value:t.productStandard.weight_price,callback:function(e){t.$set(t.productStandard,"weight_price",e)},expression:"productStandard.weight_price"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"进货价",prop:"cost_price"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:99999999,step:10},model:{value:t.productStandard.cost_price,callback:function(e){t.$set(t.productStandard,"cost_price",e)},expression:"productStandard.cost_price"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"基础运费",prop:"shipping_fee"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:99999999,step:10},model:{value:t.productStandard.shipping_fee,callback:function(e){t.$set(t.productStandard,"shipping_fee",e)},expression:"productStandard.shipping_fee"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"装箱重量",prop:"carton_weight"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:99999999,step:10},model:{value:t.productStandard.carton_weight,callback:function(e){t.$set(t.productStandard,"carton_weight",e)},expression:"productStandard.carton_weight"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单果重量",prop:"fruit_weight"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:99999999,step:10},model:{value:t.productStandard.fruit_weight,callback:function(e){t.$set(t.productStandard,"fruit_weight",e)},expression:"productStandard.fruit_weight"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"毛重",prop:"gross_weight"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:99999999,step:10},model:{value:t.productStandard.gross_weight,callback:function(e){t.$set(t.productStandard,"gross_weight",e)},expression:"productStandard.gross_weight"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"起购数量",prop:"purchase_quantity_min"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:99999999,step:10},model:{value:t.productStandard.purchase_quantity_min,callback:function(e){t.$set(t.productStandard,"purchase_quantity_min",e)},expression:"productStandard.purchase_quantity_min"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"限购数量",prop:"purchase_quantity_max"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:99999999,step:10},model:{value:t.productStandard.purchase_quantity_max,callback:function(e){t.$set(t.productStandard,"purchase_quantity_max",e)},expression:"productStandard.purchase_quantity_max"}})],1),t._v(" "),a("el-form-item",{staticClass:"line",attrs:{label:"限时销售",prop:"buyTimeRange"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.productStandard.buyTimeRange,callback:function(e){t.$set(t.productStandard,"buyTimeRange",e)},expression:"productStandard.buyTimeRange"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"采购单排序",prop:"sort_purchase"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:99999999,step:1},model:{value:t.productStandard.sort_purchase,callback:function(e){t.$set(t.productStandard,"sort_purchase",e)},expression:"productStandard.sort_purchase"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"出货单排序",prop:"sort_sold_out"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:99999999,step:1},model:{value:t.productStandard.sort_sold_out,callback:function(e){t.$set(t.productStandard,"sort_sold_out",e)},expression:"productStandard.sort_sold_out"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分拣单排序",prop:"sort_split"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:99999999,step:1},model:{value:t.productStandard.sort_split,callback:function(e){t.$set(t.productStandard,"sort_split",e)},expression:"productStandard.sort_split"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"库存",prop:"stock"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:99999999,step:10},model:{value:t.productStandard.stock,callback:function(e){t.$set(t.productStandard,"stock",e)},expression:"productStandard.stock"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上架",prop:"status"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"是","inactive-text":"否"},model:{value:t.productStandard.status,callback:function(e){t.$set(t.productStandard,"status",e)},expression:"productStandard.status"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"默认",prop:"is_default"}},[a("el-radio-group",{model:{value:t.productStandard.is_default,callback:function(e){t.$set(t.productStandard,"is_default",e)},expression:"productStandard.is_default"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("否")])],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.$emit("update:showDialog",!1)}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")])],1)],1)},o=[],i={render:r,staticRenderFns:o};e.a=i},"Y/dV":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".product-standard-form .el-form-item{display:inline-block;width:300px;margin-right:20px}.product-standard-form .el-form-item.line{display:block;width:auto}",""])},"q+hh":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".avatar-uploader-icon[data-v-54a4dabc]{font-size:15px;border:1px solid #bfcbd9;padding:14px 17px;border-radius:5px}.avatar-img[data-v-54a4dabc]{max-width:60px}",""])},qbK4:function(t,e,a){var r=a("Y/dV");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("9039f3f0",r,!0)},"y0+g":function(t,e,a){"use strict";function r(t){a("+eOX"),a("qbK4")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("8Pjr"),i=a("J5tg"),s=a("VU/8"),n=r,d=s(o.a,i.a,!1,n,"data-v-54a4dabc",null);e.default=d.exports}});