webpackJsonp([17],{E7Id:function(e,t,o){"use strict";var r=o("aA9S"),s=o.n(r),a=o("g7ZD");t.a={name:"typeAdd",props:["showDialog","editRowId"],data:function(){return{showForm:!1,resetForm:{group_id:"",name:"",sort:"99",status:0},form:{},typeGroups:[],rules:{group_id:[{type:"integer",required:!0,message:"请输入资讯类型",trigger:"change"}],name:[{required:!0,message:"请输入分类名称",trigger:"blur"},{min:2,max:30,message:"长度在 2 到 30 个字符",trigger:"blur"}],sort:[{type:"integer",required:!0,message:"请输入权重",trigger:"blur"}]}}},mounted:function(){this.getTypeGroups(),this.show()},methods:{show:function(){this.reset()},getTypeGroups:function(){var e=this;this.$http.post("/manage/typeGroup/getTypeGroups").then(function(t){e.typeGroups=t.data.list})},changeTypeGroup:function(e){this.form.group_id=e},onSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.$http.post("/manage/type/save",e.form,{showLoading:!0}).then(function(t){e.$message({type:"success",message:"添加数据成功"}),e.$emit("update:showDialog",!1),a.b.$emit(a.g.refreshListForAdd)})})},reset:function(){this.$refs.form&&this.$refs.form.resetFields(),this.form=s()({},this.resetForm)}}}},KXke:function(e,t,o){"use strict";function r(e){o("qLl7")}Object.defineProperty(t,"__esModule",{value:!0});var s=o("E7Id"),a=o("XBpZ"),i=o("OF7X"),n=r,l=i(s.a,a.a,!1,n,"data-v-5faee1a4",null);t.default=l.exports},XBpZ:function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"添加类型",visible:e.showDialog,"close-on-click-modal":!1},on:{"update:visible":function(t){return e.$emit("update:showDialog",t)},close:e.reset,open:e.show}},[o("el-form",{ref:"form",staticClass:"form-style",attrs:{model:e.form,rules:e.rules,"label-width":"150px","label-position":"right"}},[o("el-form-item",{attrs:{label:"分类标签：",prop:"group_id"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择分类标签"},on:{change:e.changeTypeGroup},model:{value:e.form.group_id,callback:function(t){e.$set(e.form,"group_id",t)},expression:"form.group_id"}},e._l(e.typeGroups,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"权重",prop:"sort"}},[o("el-input-number",{attrs:{min:1,max:9999999},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"状态"}},[o("el-select",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[o("el-option",{attrs:{label:"启用",value:1}}),e._v(" "),o("el-option",{attrs:{label:"禁用",value:0}})],1)],1)],1),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.$emit("update:showDialog",!1)}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1)},s=[],a={render:r,staticRenderFns:s};t.a=a},eYbd:function(e,t,o){t=e.exports=o("BkJT")(!1),t.push([e.i,"",""])},qLl7:function(e,t,o){var r=o("eYbd");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);o("8bSs")("d7eddb84",r,!0)}});