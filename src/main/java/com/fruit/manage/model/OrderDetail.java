package com.fruit.manage.model;

import com.fruit.manage.model.base.BaseOrderDetail;

import java.util.List;

/**
 * Generated by JFinal.
 */
@SuppressWarnings("serial")
public class OrderDetail extends BaseOrderDetail<OrderDetail> {
	public static final OrderDetail dao = new OrderDetail().dao();

	public List<OrderDetail> getOrderDetails(String orderId) {
		return dao.find("SELECT * FROM b_order_detail od WHERE od.order_id = ? ",orderId);
	}

	/**
	 * 获取订单信息展示的部分 商品信息和商品规格
	 * @param orderid
	 * @return
	 */
	public List<OrderDetail> getOtherOrderDetail(String orderid) {
		String sql = "SELECT\n" +
				"\to.product_name,\n" +
				"\to.id,\n" +
				"\to.product_standard_name,\n" +
				"\to.num,\n" +
				"\to.original_price,\n" +
				"\to.sell_price,\n" +
				"\tp.brand,\n" +
				"\tps.gross_weight\n" +
				"FROM\n" +
				"\tb_order_detail AS o\n" +
				"INNER JOIN b_product AS p ON o.product_id = p.id\n" +
				"INNER JOIN b_product_standard AS ps ON o.product_standard_id = ps.id\n" +
				"WHERE\n" +
				"\to.order_id = ?  ";
		return dao.find(sql,orderid);
	}
}
